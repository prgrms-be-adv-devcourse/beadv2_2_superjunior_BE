#file: noinspection SpellCheckingInspection
spring:
  application:
    name: point-test

  flyway:
    enabled: true
    default-schema: payment_schema
    schemas: payment_schema
    create-schemas: true

  datasource:
    hikari:
      maximum-pool-size: 30

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        default_schema: payment_schema
        hbm2ddl:
          create_namespaces: true
        format_sql: true
        show_sql: false
    open-in-view: false

toss:
  secret-key: ${TOSS_SECRET_KEY:"abcd"}

logging:
  level:
    root: warn
    org.apache.kafka.test.TestUtils: off

springdoc:
  swagger-ui:
    enabled: false
  api-docs:
    enabled: false

client:
  commerce: http://localhost:8087

payment:
  rules:
    refund-days: 14

resilience4j:
  retry:
    instances:
      pg-api:
        max-attempts: 3
        wait-duration:
          seconds: 1
        enable-exponential-backoff: true
        retry-exceptions:
          - org.springframework.web.client.ResourceAccessException
          - org.springframework.web.client.HttpServerErrorException

  ratelimiter:
    instances:
      pg-confirm:
        limit-for-period: 30
        limit-refresh-period:
          seconds: 10
        timeout-duration:
          seconds: 0
