# 0909 (κ³µκµ¬κ³µκµ¬)

μ—¬λ¬ νλ§¤μκ°€ κ³µλ™κµ¬λ§¤ μƒν’μ„ λ“±λ΅ν•κ³ , μ†λΉ„μλ” μ„ μ°©μ/μλ‰ μ΅°κ±΄μ— λ§μ¶° μ°Έμ—¬ν•  μ μλ” λ§μ΄ν¬λ΅μ„λΉ„μ¤ κΈ°λ° μ΄μ»¤λ¨Έμ¤ μ„λΉ„μ¤μ…λ‹λ‹¤.

## π›  κΈ°μ  μ¤νƒ

### λ°±μ—”λ“
- **Java 17**
- **Spring Boot 3.5.8**
- **Spring Cloud** (Gateway, Eureka)
- **Spring Data JPA**
- **Spring Batch**

### λ°μ΄ν„°λ² μ΄μ¤
- **PostgreSQL 15**
- **Redis 7**
- **Elasticsearch 8.18**

### λ©”μ‹μ§€ ν
- **Apache Kafka 7.5** (KRaft λ¨λ“)

## π— μ‹μ¤ν… μ•„ν‚¤ν…μ²

### μ•„ν‚¤ν…μ² λ‹¤μ΄μ–΄κ·Έλ¨
<img width="5796" height="3312" alt="archi" src="https://github.com/user-attachments/assets/3912d899-e1c6-4bc6-8127-8079d08c0f98" />

### μ„λΉ„μ¤ κµ¬μ„±

#### Infrastructure Services

| μ„λΉ„μ¤ | ν¬νΈ | μ—­ν•  |
|--------|------|------|
| **Discovery Server** (Eureka) | 8761 | μ„λΉ„μ¤ λ“±λ΅ λ° λ°κ²¬ |
| **API Gateway** | 8000 | λΌμ°ν…, JWT μΈμ¦, μ‚¬μ©μ μ»¨ν…μ¤νΈ μ£Όμ… |

#### Business Services

| μ„λΉ„μ¤ | ν¬νΈ | μ—­ν•  |
|--------|------|------|
| **Member** | 8083 | νμ› μΈμ¦/μΈκ°€, JWT ν† ν° λ°κΈ‰, μ•λ¦Ό κ΄€λ¦¬ |
| **Commerce** | 8087 | μƒν’ λ° κ³µλ™κµ¬λ§¤ κ΄€λ¦¬, μ£Όλ¬Έ μ²λ¦¬ |
| **Point** | 8086 | ν¬μΈνΈ μ¶©μ „/κ²°μ  (Toss Payments μ—°λ™) |
| **Elastic Search** | 8082 | μƒν’/κ³µλ™κµ¬λ§¤ κ²€μƒ‰ μΈλ±μ‹± |

#### Shared Module
- **Common**:  κ³µν†µ DTO, Kafka μ„¤μ •, μμ™Έ μ²λ¦¬, λ΅κΉ… Aspect

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
beadv2_2_superjunior_BE/
β”β”€β”€ common/                 # κ³µν†µ λ¨λ“ (DTO, Kafka, Exception, AOP)
β”β”€β”€ discovery/              # Eureka μ„λ²„
β”β”€β”€ gateway/                # API κ²μ΄νΈμ›¨μ΄
β”β”€β”€ member/                 # νμ› μ„λΉ„μ¤
β”β”€β”€ commerce/               # μƒν’/μ£Όλ¬Έ μ„λΉ„μ¤
β”‚   β”β”€β”€ domain/
β”‚   β”‚   β”β”€β”€ product/
β”‚   β”‚   β”β”€β”€ grouppurchase/
β”‚   β”‚   β”β”€β”€ order/
β”‚   β”‚   β”β”€β”€ cart/
β”‚   β”‚   β””β”€β”€ sellerbalance/
β”β”€β”€ point/                  # κ²°μ  μ„λΉ„μ¤
β”β”€β”€ elastic-search/         # κ²€μƒ‰ μ„λΉ„μ¤
β”β”€β”€ batch/                  # λ°°μΉ μ‘μ—… (μ •μ‚°)
β”β”€β”€ docker/                 # Docker μ„¤μ • νμΌ
β”‚   β”β”€β”€ postgres/init/
β”‚   β””β”€β”€ logstash/
β”β”€β”€ docs/                   # λ¬Έμ„
β”β”€β”€ docker-compose.yml      # μΈν”„λΌ κµ¬μ„±
β”β”€β”€ build.gradle            # λ£¨νΈ λΉλ“ μ„¤μ •
β””β”€β”€ settings.gradle         # λ¨λ“ μ„¤μ •
```

## π€ μ‹¤ν–‰ λ°©λ²•

### μ‚¬μ „ μ”κµ¬μ‚¬ν•­

- Java 17 μ΄μƒ
- Docker & Docker Compose
- Gradle 8.x μ΄μƒ

### 1. μΈν”„λΌ μ„λΉ„μ¤ μ‹¤ν–‰

```bash
# PostgreSQL, Redis, Kafka, Elasticsearch, Logstash μ‹¤ν–‰
docker-compose up -d
```

### 2. μ„λΉ„μ¤ λΉλ“

```bash
# μ „μ²΄ ν”„λ΅μ νΈ λΉλ“
./gradlew build

# ν…μ¤νΈ μ μ™Έ λΉλ“
./gradlew build -x test
```

### 3. μ„λΉ„μ¤ μ‹¤ν–‰ (μμ„ μ¤‘μ”)

```bash
# 1. Discovery Server μ‹¤ν–‰ (Config Server μ‹¤ν–‰ ν›„)
./gradlew :discovery:bootRun

# 2. API Gateway μ‹¤ν–‰ (Discovery Server λ“±λ΅ ν™•μΈ ν›„)
./gradlew :gateway:bootRun

# 3. Business Services μ‹¤ν–‰ (μμ„ λ¬΄κ΄€)
./gradlew :member:bootRun
./gradlew :commerce:bootRun
./gradlew :point:bootRun
./gradlew :elastic-search:bootRun
```

### 4. μ„λΉ„μ¤ μ ‘κ·Ό

| μ„λΉ„μ¤ | URL |
|--------|-----|
| **API Gateway** | http://localhost:8000 |
| **Eureka Dashboard** | http://localhost:8761 |
| **Elasticsearch** | http://localhost:9200 |

## π“ μ£Όμ” κΈ°λ¥

### 1. νμ› κ΄€λ¦¬
- νμ›κ°€μ… / λ΅κ·ΈμΈ
- JWT κΈ°λ° μΈμ¦
- ν”„λ΅ν•„ κ΄€λ¦¬
- Redis μ„Έμ… κ΄€λ¦¬

### 2. μƒν’ κ΄€λ¦¬
- μƒν’ CRUD
- κ³µλ™κµ¬λ§¤ μƒμ„± λ° κ΄€λ¦¬
- μƒν’ μΉ΄ν…κ³ λ¦¬ κ΄€λ¦¬
- μ¬κ³  κ΄€λ¦¬

### 3. μ£Όλ¬Έ κ΄€λ¦¬
- μ£Όλ¬Έ μƒμ„± λ° μ΅°ν
- μ¥λ°”κµ¬λ‹ κΈ°λ¥
- μ£Όλ¬Έ μƒνƒ κ΄€λ¦¬
- ν™λ¶ μ²λ¦¬

### 4. μ •μ‚° κ΄€λ¦¬
- μΌμΌ μ •μ‚° μλ™ν™”
- μ›”λ³„ μ •μ‚° μλ™ν™”
- νλ§¤μ μ”μ•΅ κ΄€λ¦¬
- μ •μ‚° μ΄λ ¥ μ¶”μ 

### 5. ν¬μΈνΈ κ΄€λ¦¬
- ν¬μΈνΈ μ¶©μ „
- ν¬μΈνΈ κ²°μ 
- Toss Payments API μ—°λ™
- ν¬μΈνΈ μ΄λ ¥ κ΄€λ¦¬

### 6. μ•λ¦Ό
- μ£Όλ¬Έ μ•λ¦Ό
- ν¬μΈνΈ μ¶©μ „/μ‚¬μ© μ•λ¦Ό
- μ •μ‚° μ™„λ£/μ‹¤ν¨ μ•λ¦Ό
- Kafka μ΄λ²¤νΈ κΈ°λ° μ‹¤μ‹κ°„ μ•λ¦Ό

### 7. κ²€μƒ‰
- μƒν’ ν†µν•© κ²€μƒ‰
- κ³µλ™κµ¬λ§¤ κ²€μƒ‰
- ν•κΈ€ ν•νƒμ† λ¶„μ„ (Nori)
- Kafka μ΄λ²¤νΈ κΈ°λ° μ‹¤μ‹κ°„ μΈλ±μ‹±

## β… API λ…μ„Έ

API λ…μ„Έλ¥Ό ν™•μΈν•λ ¤λ©΄ API λ…μ„Έμ„λ¥Ό μ°Έκ³ ν•μ„Έμ”.

## π§ ν…μ¤νΈ

ν…μ¤νΈ κ°€μ΄λ“λ¥Ό ν™•μΈν•λ ¤λ©΄ ν…μ¤νΈ κ°€μ΄λ“ λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ„Έμ”.

## π’¬ κΈ°μ μ  κ³ λ―Ό

κΈ°μ μ  κ³ λ―Ό μ‚¬ν•­μ„ ν™•μΈν•λ ¤λ©΄ κΈ°μ μ  κ³ λ―Ό λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ„Έμ”.

## β— νΈλ¬λΈ” μν…

νΈλ¬λΈ” μν…μ„ ν™•μΈν•λ ¤λ©΄ νΈλ¬λΈ” μν… λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ„Έμ”.
